---
# yaml-language-server: $schema=https://k8s-schemas.erwanleboucher.dev/kgateway.dev/kgatewaypolicy_v1alpha1.json
apiVersion: kgateway.dev/v1alpha1
kind: kgatewayPolicy
metadata:
  name: kromgo
  namespace: monitoring
spec:
  targetRefs:
    - group: gateway.networking.k8s.io
      kind: HTTPRoute
      name: kromgo
  traffic:
    cors:
      allowOrigins:
        - "http://localhost:5173"
        - "https://erwanleboucher.dev"
        - "https://www.erwanleboucher.dev"
      allowMethods:
        - GET
        - OPTIONS
      allowHeaders:
        - "*"
      maxAge: 86400
